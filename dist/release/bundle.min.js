class formSaver2{static save(t){var e=this.get_identifier(t),r=t.value,i=!t.hasAttribute("no-save")&&t.hasAttribute("aria-formsaver");if(e&&""!==r&&i){if("checkbox"==t.getAttribute("type"))return localStorage.setItem(e,(1==t.checked).toString()),void console.log("save checkbox button ",formSaver2.offset(t));if("radio"==t.getAttribute("type")&&t.hasAttribute("id"))return $('[name="'+t.getAttribute("name")+'"]').each((function(t,r){localStorage.setItem(e,"off")})),void setTimeout((()=>{localStorage.setItem(e,r.toString()),console.log("save radio button ",formSaver2.offset(t))}),500);localStorage.setItem(e,r.toString())}}static offset(t){return t.getBoundingClientRect()}static hasAttribute(t,e){return 1===t.nodeType&&t.hasAttribute(e)}static restore(t){t instanceof jQuery&&(t=t.get(0));let e;t.nodeType;if(Count++,t.hasAttribute("no-save"))return;t.setAttribute("aria-formsaver",uniqueid);let r=this.get_identifier(t);var i=t.getAttribute("type");if(r){if("checkbox"===i){if(e=JSON.parse(localStorage.getItem(r)),null===e)return;return console.log(`value checkbox ${e}`),void(t.checked=e)}if("radio"===i)return e="on"===localStorage.getItem(r),void(t.checked=e);if(e=localStorage.getItem(r),null===e||!e.toString().length)return;t.value=e,this.is_select2(t)&&$(t).val(e).trigger("change")}}static is_select2(t){return this.is_jquery()&&$(t).data("select2")}static is_jquery(){return"undefined"!=typeof jQuery}static get_identifier(t){if(console.log(t.getAttribute("id")),t.hasAttribute("id")){if("null"==t.getAttribute("id")){let e=makeid(5);t.setAttribute("id",e),formField[Count]=e,localStorage.setItem(storageKey.toString(),JSON.stringify(formField))}}else{if(Count in formField)t.setAttribute("id",formField[Count]);else{let e=makeid(5);t.setAttribute("id",e),formField[Count]=e,localStorage.setItem(storageKey.toString(),JSON.stringify(formField))}Count++}return location.pathname+t.getAttribute("id")}}function formsaver(){"undefined"!=typeof jQuery&&(console.log("Starting smartform jQuery"),"undefined"!=typeof jQuery&&jQuery("input,textarea,select").each((function(t,e){$(this).smartForm()})))}if(isBrowser&&"undefined"!=typeof jQuery&&function(t){t.fn.getIDName=function(){return t(this).attr("aria-autovalue")&&t(this).val(uniqueid).trigger("change"),formSaver2.get_identifier(this)},t.fn.has_attr=function(e){var r=t(this).attr(e);return void 0!==r&&!1!==r},t.fn.smartForm=function(){Count++,formSaver2.restore(t(this).get(0))},t.arrive=function(e,r){e?t(e).bind("DOMNodeInserted",r):"function"==typeof r?t(document).bind("DOMNodeInserted",r):"function"==typeof e&&t(document).bind("DOMNodeInserted",e)},t(document).bind("DOMNodeInserted",(function(){switch(t(this).prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":formSaver2.restore(t(this).get(0))}})),t(document).bind("DOMNodeRemoved",(function(){var e=t(this);if(!e.attr("no-save")&&e.attr("aria-formsaver"))switch(e.prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":e.off("change")}})),t(document).on("change","select, input, textarea",(function(t){formSaver2.save(this)})),t(document).on("focus","input,textarea,select",(function(){var e=t(this);e.getIDName();var r=e.attr("aria-formsaver");r&&r!=uniqueid&&(e.smartForm(),e.attr("aria-formsaver",uniqueid))}))}(jQuery),Object.size=function(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r},Object.child=function(t,e){return this.hasOwnProperty(t)?"function"!=typeof e||e(this[t]):void 0},Object.alt=function(t,e){return this.hasOwnProperty(t)?this[t]:e},Object.has=function(t){return this.hasOwnProperty(t)},void 0===makeid)var makeid=function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length,o=0;o<t;o++)e+=r.charAt(Math.floor(Math.random()*i));return e};var formFieldBuild,storageKey=location.pathname.replace(/\/$/s,"")+"/formField",formSaved=localStorage.getItem(storageKey.toString()),formField=formFieldBuild=formSaved?JSON.parse(formSaved):[],uniqueid=makeid(5),isBrowser=new Function("try {return this===window;}catch(e){ return false;}"),Count=-1;if("undefined"==typeof Storage){}class lStorage extends Storage{constructor(){super()}has(t){return!!localStorage[t]&&!!localStorage[t].length}get(t){if(!this.has(t))return!1;var e=localStorage[t];try{return JSON.parse(e)}catch(t){return e}}set(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){localStorage.setItem(t,e)}}extend(t,e){if(this.has(t)){var r=this.get(t);"undefined"!=typeof jQuery&&$.extend(r,JSON.parse(JSON.stringify(e))),this.set(t,r)}else this.set(t,e)}remove(t){localStorage.removeItem(t)}}