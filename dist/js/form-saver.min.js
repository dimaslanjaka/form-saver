if(Object.size=function(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o},Object.child=function(e,t){return this.hasOwnProperty(e)?"function"!=typeof t||t(this[e]):void 0},Object.alt=function(e,t){return this.hasOwnProperty(e)?this[e]:t},Object.has=function(e){return this.hasOwnProperty(e)},function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.formSaver=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,o,r={},a="querySelector"in document&&"addEventListener"in e&&"localStorage"in e&&"classList"in document.createElement("_"),n={selectorStatus:"[data-form-status]",selectorSave:"[data-form-save]",selectorDelete:"[data-form-delete]",selectorIgnore:"[data-form-no-save]",deleteClear:!0,saveMessage:"Saved!",deleteMessage:"Deleted!",saveClass:"",deleteClass:"",initClass:"js-form-saver",callbackSave:function(){},callbackDelete:function(){},callbackLoad:function(){}},i=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(o,e[r],r,e);else for(var a=0,n=e.length;a<n;a++)t.call(o,e[a],a,e)},c=function(){var e={},t=!1,o=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var a=function(o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t&&"[object Object]"===Object.prototype.toString.call(o[r])?e[r]=c(!0,e[r],o[r]):e[r]=o[r])};o<r;o++){var n=arguments[o];a(n)}return e},s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t.item(o)!==this;);return o>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},l=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}};r.saveForm=function(e,t,o,r){var a=l(e?e.getAttribute("data-options"):null),d=c(d||n,o||{},a),u=document.querySelector(t),m="formSaver-"+u.id,f={},p=u.elements,v=u.querySelectorAll(d.selectorStatus);i(p,(function(e){!function(e){s(e,d.selectorIgnore)||("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()?!0===e.checked&&(f[e.name+e.value]="on"):"hidden"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&e.value&&""!==e.value&&(f[e.name]=e.value))}(e)})),i(v,(function(e){!function(e,t,o){e.innerHTML=""===o?"<div>"+t+"</div>":'<div class="'+o+'">'+t+"</div>"}(e,d.saveMessage,d.saveClass)})),localStorage.setItem(m,JSON.stringify(f)),d.callbackSave(e,u)},r.deleteForm=function(e,t,o,r){var a=l(e?e.getAttribute("data-options"):{}),s=c(s||n,o||{},a),d=document.querySelector(t),u="formSaver-"+d.id,m=d.querySelectorAll(s.selectorStatus),f=""===s.deleteClass?"<div>"+s.deleteMessage+"</div>":'<div class="'+s.deleteClass+'">'+s.deleteMessage+"</div>";localStorage.removeItem(u),!0===s.deleteClear||"true"===s.deleteClear?(sessionStorage.setItem(u+"-formSaverMessage",f),location.reload(!1)):i(m,(function(e){e.innerHTML=f})),s.callbackDelete(e,d)},r.loadForm=function(e,t){var o=c(o||n,t||{}),r="formSaver-"+e.id,a=JSON.parse(localStorage.getItem(r)),s=e.elements,l=e.querySelectorAll(o.selectorStatus);i(s,(function(e){!function(e){a&&("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()?"on"===a[e.name+e.value]&&(e.checked=!0):"hidden"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&a[e.name]&&(e.value=a[e.name]))}(e)})),i(l,(function(e){!function(e){e.innerHTML=sessionStorage.getItem(r+"-formSaverMessage"),sessionStorage.removeItem(r+"-formSaverMessage")}(e)})),o.callbackLoad(e)};var d=function(e){var o=e.target,a=s(o,t.selectorSave),n=s(o,t.selectorDelete);a?(e.preventDefault(),r.saveForm(a,a.getAttribute("data-form-save"),t)):n&&(e.preventDefault(),r.deleteForm(n,n.getAttribute("data-form-delete"),t))};return r.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",d,!1),t=null,o=null)},r.init=function(e){a&&(r.destroy(),t=c(n,e||{}),o=document.forms,document.documentElement.className+=(document.documentElement.className?" ":"")+t.initClass,i(o,(function(e){r.loadForm(e,t)})),document.addEventListener("click",d,!1))},r})),void 0===uniqid)function uniqid(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);for(var o=(Date.now()/1e3).toString(16).split(".").join("");o.length<14;)o+="0";var r="";return t&&(r=".",r+=Math.round(1e8*Math.random())),e+o+r}if(("undefined"==typeof module||!module.exports)&&"undefined"!=typeof jQuery){var formField,Count=-1,storageKey=location.pathname.replace(/\/$/s,"")+"/formField",formSaved=localStorage.getItem(storageKey.toString());formField=formSaved?JSON.parse(formSaved):[];var uniqueid=uniqid("formsaver");!function(e){e.fn.getIDName=function(){if(!e(this).attr("id")||""==e(this).attr("id")){try{if(Count in formField)e(this).attr("id",formField[Count]);else{var t=Math.random().toString(20).substr(2,6);e(this).attr("id",t),formField[Count]=t,localStorage.setItem(storageKey.toString(),JSON.stringify(formField))}}catch(e){console.error(e),console.log(formField,typeof formField)}Count++}return e(this).attr("aria-autovalue")&&e(this).val(uniqueid),"["+location.pathname.replace(/\/$/,"")+"/"+e(this).prop("tagName")+"/"+e(this).attr("id")+"/"+e(this).attr("name")||"empty]"},e.fn.smartForm=function(){if(Count++,!e(this).attr("no-save")){var t,o=e(this);o.attr("aria-smartform",uniqueid);var r=o.getIDName().toString(),a=e(this).attr("type");if(r){if("checkbox"===a){if(null===(t=JSON.parse(localStorage.getItem(r))))return;return void e(this).prop("checked",t)}if("radio"===a)return t="on"===localStorage.getItem(r),void e(this).prop("checked",t);if(null===(t=localStorage.getItem(r))||!t.toString().length)return;e(this).val(t)}}},e.arrive=function(t,o){t?e(t).bind("DOMNodeInserted",o):"function"==typeof o?e(document).bind("DOMNodeInserted",o):"function"==typeof t&&e(document).bind("DOMNodeInserted",t)},e(document).bind("DOMNodeInserted",(function(){var t=e(this),o=localStorage.getItem(t.getIDName().toString()),r=t.prop("tagName"),a=!t.attr("no-save")&&t.attr("aria-smartform")&&void 0!==r;if(a&&o)switch(console.log(r,a&&o),t.prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":t.val(o)}})),e(document).bind("DOMNodeRemoved",(function(){var t=e(this);if(!t.attr("no-save")&&t.attr("aria-smartform"))switch(t.prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":t.off("change")}})),e(document).on("change","select, input, textarea",(function(t){var o=this,r=e(this),a=r.getIDName().toString(),n=r.val(),i=!r.attr("no-save")&&r.attr("aria-smartform");if(a&&""!==n&&i){if("checkbox"==r.attr("type"))return localStorage.setItem(a,r.is(":checked").toString()),void console.log("save checkbox button ",e(this).offset());if("radio"==r.attr("type")&&r.attr("id"))return e('[name="'+r.attr("name")+'"]').each((function(t,o){localStorage.setItem(e(this).getIDName().toString(),"off")})),void setTimeout((function(){localStorage.setItem(a,n.toString()),console.log("save radio button ",e(o).offset())}),500);localStorage.setItem(a,n.toString())}})),e(document).on("focus","input,textarea,select",(function(){var t=e(this);t.getIDName();var o=t.attr("aria-smartform");o&&o!=uniqueid&&(t.smartForm(),t.attr("aria-smartform",uniqueid))}))}(jQuery)}if(void 0===smartform)function smartform(){jQuery("input,textarea,select").each((function(e,t){$(this).smartForm()}))}if(void 0===copyToClipboard)function copyToClipboard(e,t){var o=document.queryCommandSupported("copy"),r=t.attr("data-original-title");if(!0===o){var a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select();try{var n=document.execCommand("copy")?"Copied!":"Whoops, not copied!";t.attr("data-original-title",n),t.tooltip("show")}catch(e){console.log("Oops, unable to copy")}document.body.removeChild(a),t.attr("data-original-title",r)}else window.prompt("Copy to clipboard: Ctrl+C or Command+C, Enter",e)}