function copyToClipboard(e,t){var o=document.queryCommandSupported("copy"),a=t.attr("data-original-title");if(!0===o){var r=document.createElement("textarea");r.value=e,document.body.appendChild(r),r.select();try{var n=document.execCommand("copy")?"Copied!":"Whoops, not copied!";t.attr("data-original-title",n),t.tooltip("show")}catch(e){console.log("Oops, unable to copy")}document.body.removeChild(r),t.attr("data-original-title",a)}else window.prompt("Copy to clipboard: Ctrl+C or Command+C, Enter",e)}function uniqueIDGen(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);for(var o=(Date.now()/1e3).toString(16).split(".").join("");o.length<14;)o+="0";var a="";return t&&(a=".",a+=Math.round(1e8*Math.random())),e+o+a}Object.size=function(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o},Object.child=function(e,t){return this.hasOwnProperty(e)?"function"!=typeof t||t(this[e]):void 0},Object.alt=function(e,t){return this.hasOwnProperty(e)?this[e]:t},Object.has=function(e){return this.hasOwnProperty(e)},function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.formSaver=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,o,a={},r="querySelector"in document&&"addEventListener"in e&&"localStorage"in e&&"classList"in document.createElement("_"),n={selectorStatus:"[data-form-status]",selectorSave:"[data-form-save]",selectorDelete:"[data-form-delete]",selectorIgnore:"[data-form-no-save]",deleteClear:!0,saveMessage:"Saved!",deleteMessage:"Deleted!",saveClass:"",deleteClass:"",initClass:"js-form-saver",callbackSave:function(){},callbackDelete:function(){},callbackLoad:function(){}},i=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(o,e[a],a,e);else for(var r=0,n=e.length;r<n;r++)t.call(o,e[r],r,e)},s=function(){var e={},t=0,o=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(arguments[0],t++);t<o;t++){var a=arguments[t];merge_object(a)}return e},c=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t.item(o)!==this;);return o>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},l=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}};a.saveForm=function(e,t,o,a){var r=l(e?e.getAttribute("data-options"):null),u=s(u||n,o||{},r),m=document.querySelector(t),d="formSaver-"+m.id,f={},p=m.elements,v=m.querySelectorAll(u.selectorStatus);i(p,(function(e){!function(e){c(e,u.selectorIgnore)||("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()?!0===e.checked&&(f[e.name+e.value]="on"):"hidden"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&e.value&&""!==e.value&&(f[e.name]=e.value))}(e)})),i(v,(function(e){!function(e,t,o){e.innerHTML=""===o?"<div>"+t+"</div>":'<div class="'+o+'">'+t+"</div>"}(e,u.saveMessage,u.saveClass)})),localStorage.setItem(d,JSON.stringify(f)),u.callbackSave(e,m)},a.deleteForm=function(e,t,o,a){var r=l(e?e.getAttribute("data-options"):{}),c=s(c||n,o||{},r),u=document.querySelector(t),m="formSaver-"+u.id,d=u.querySelectorAll(c.selectorStatus),f=""===c.deleteClass?"<div>"+c.deleteMessage+"</div>":'<div class="'+c.deleteClass+'">'+c.deleteMessage+"</div>";localStorage.removeItem(m),!0===c.deleteClear||"true"===c.deleteClear?(sessionStorage.setItem(m+"-formSaverMessage",f),location.reload(!1)):i(d,(function(e){e.innerHTML=f})),c.callbackDelete(e,u)},a.loadForm=function(e,t){var o=s(o||n,t||{}),a="formSaver-"+e.id,r=JSON.parse(localStorage.getItem(a)),c=e.elements,l=e.querySelectorAll(o.selectorStatus);i(c,(function(e){!function(e){r&&("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()?"on"===r[e.name+e.value]&&(e.checked=!0):"hidden"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&r[e.name]&&(e.value=r[e.name]))}(e)})),i(l,(function(e){!function(e){e.innerHTML=sessionStorage.getItem(a+"-formSaverMessage"),sessionStorage.removeItem(a+"-formSaverMessage")}(e)})),o.callbackLoad(e)};var u=function(e){var o=e.target,r=c(o,t.selectorSave),n=c(o,t.selectorDelete);r?(e.preventDefault(),a.saveForm(r,r.getAttribute("data-form-save"),t)):n&&(e.preventDefault(),a.deleteForm(n,n.getAttribute("data-form-delete"),t))};return a.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",u,!1),t=null,o=null)},a.init=function(e){r&&(a.destroy(),t=s(n,e||{}),o=document.forms,document.documentElement.className+=(document.documentElement.className?" ":"")+t.initClass,i(o,(function(e){a.loadForm(e,t)})),document.addEventListener("click",u,!1))},a}));var isNotNode=!("undefined"!=typeof module&&module.exports);function smartform(){console.log("Starting smartform jQuery");jQuery("input,textarea,select").each((function(e,t){$(this).smartForm()}))}console.log("is browser : "+isNotNode),isNotNode&&function(){var e="undefined"!=typeof jQuery;if(console.log("is jQuery loaded : "+e),e){console.log("Apply plugin smartform jQuery");var t,o=-1,a=location.pathname.replace(/\/$/s,"")+"/formField",r=localStorage.getItem(a.toString());t=r?JSON.parse(r):[];var n=uniqueIDGen("formsaver");!function(e){e.fn.getIDName=function(){if(!e(this).attr("id")||""==e(this).attr("id")){try{if(o in t)e(this).attr("id",t[o]);else{var r=Math.random().toString(20).substr(2,6);e(this).attr("id",r),t[o]=r,localStorage.setItem(a.toString(),JSON.stringify(t))}}catch(e){console.error(e),console.log(t,typeof t)}o++}return e(this).attr("aria-autovalue")&&e(this).val(n),"["+location.pathname.replace(/\/$/,"")+"/"+e(this).prop("tagName")+"/"+e(this).attr("id")+"/"+e(this).attr("name")||"empty]"},e.fn.smartForm=function(){if(o++,!e(this).attr("no-save")){var t,a=e(this);a.attr("aria-smartform",n);var r=a.getIDName().toString(),i=e(this).attr("type");if(r){if("checkbox"===i){if(null===(t=JSON.parse(localStorage.getItem(r))))return;return void e(this).prop("checked",t)}if("radio"===i)return t="on"===localStorage.getItem(r),void e(this).prop("checked",t);if(null===(t=localStorage.getItem(r))||!t.toString().length)return;e(this).val(t)}}},e.arrive=function(t,o){t?e(t).bind("DOMNodeInserted",o):"function"==typeof o?e(document).bind("DOMNodeInserted",o):"function"==typeof t&&e(document).bind("DOMNodeInserted",t)},e(document).bind("DOMNodeInserted",(function(){var t=e(this),o=localStorage.getItem(t.getIDName().toString()),a=t.prop("tagName"),r=!t.attr("no-save")&&t.attr("aria-smartform")&&void 0!==a;if(r&&o)switch(console.log(a,r&&o),t.prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":t.val(o)}})),e(document).bind("DOMNodeRemoved",(function(){var t=e(this);if(!t.attr("no-save")&&t.attr("aria-smartform"))switch(t.prop("tagName")){case"SELECT":case"INPUT":case"TEXTAREA":t.off("change")}})),e(document).on("change","select, input, textarea",(function(t){var o=this,a=e(this),r=a.getIDName().toString(),n=a.val(),i=!a.attr("no-save")&&a.attr("aria-smartform");if(r&&""!==n&&i){if("checkbox"==a.attr("type"))return localStorage.setItem(r,a.is(":checked").toString()),void console.log("save checkbox button ",e(this).offset());if("radio"==a.attr("type")&&a.attr("id"))return e('[name="'+a.attr("name")+'"]').each((function(t,o){localStorage.setItem(e(this).getIDName().toString(),"off")})),void setTimeout((function(){localStorage.setItem(r,n.toString()),console.log("save radio button ",e(o).offset())}),500);localStorage.setItem(r,n.toString())}})),e(document).on("focus","input,textarea,select",(function(){var t=e(this);t.getIDName();var o=t.attr("aria-smartform");o&&o!=n&&(t.smartForm(),t.attr("aria-smartform",n))}))}(jQuery)}}();